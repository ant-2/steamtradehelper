<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style type="text/css">@import url(/modules/spreadsheet.css);</style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.13.1/lodash.js"></script>
  <script src="/modules/spreadsheet.js"></script>
  <script src="/js/prices.js"></script>
  <script src="/js/data.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', init);

    function init() {
      try {
        var templates, title, price;
        templates = new SpreadsheetTmpl();
        title = _.template(templates.rowTitle);
        price = _.template(templates.rowCell);
      } catch(e) {
        console.error("Something wrong with templates. "+e.name+": "+e.message);
      }

      var collection = new Collection();
      var arr = [];
      arr.push(new Item({
        name: "A random craft hat",
        qualityID: 6,
        tradable: true,
        craftable: true,
        price: new Price(0, "ref", 1.33)
      }));
      collection.addProperty('A random craft hat', arr);

      var sh = new Spreadsheet({
        styles: {
          container: "sh",
          row: "sh__row"
        },
        rowTitleTemplate: title,
        rowPriceCellTemplate: price,
        items: collection
      });
      document.body.appendChild(sh.getElem());

      var input = document.getElementById('in');
      document.getElementById('btnSearch').onclick = sh.filterColback(input, sh["rows"]);
    }
  </script>
  
  <script>
  </script>
</head>

<body>
<label><input id="in" type="text">Имя предмета</label>
<button id="btnSearch">Поиск</button>
</body>
</html>