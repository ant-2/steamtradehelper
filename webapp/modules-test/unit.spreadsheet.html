<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style type="text/css">@import url(/modules/spreadsheet.css);</style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.13.1/lodash.js"></script>
  <script src="/modules/spreadsheet.js"></script>
  <script src="/js/prices.js"></script>
  <script src="/js/data.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', init);

    function getItems() {
      var response, parser, items;
      response = {
        "response": {
          "success": 1,
          "current_time": 1465731120,
          "raw_usd_value": 0.115,
          "usd_currency": "metal",
          "usd_currency_index": 5002,
          "items": {
            "A Brush with Death": {
              "defindex": [
                30186
              ],
              "prices": {
                "6": {
                  "Tradable": {
                    "Craftable": {
                      "0": {
                        "currency": "metal",
                        "value": 4.33,
                        "last_update": 1464820277,
                        "difference": -0.33
                      }
                    }
                  }
                },
                "14": {
                  "Tradable": {
                    "Craftable": {
                      "0": {
                        "currency": "keys",
                        "value": 100,
                        "last_update": 1459344639,
                        "difference": 1800
                      }
                    }
                  }
                }
              }
            },
            "A Color Similar to Slate": {
              "defindex": [
                5052
              ],
              "prices": {
                "6": {
                  "Tradable": {
                    "Craftable": {
                      "0": {
                        "currency": "metal",
                        "value": 10,
                        "last_update": 1461511357,
                        "difference": 3
                      }
                    },
                    "Non-Craftable": {
                      "0": {
                        "currency": "metal",
                        "value": 10,
                        "last_update": 1462210286,
                        "difference": 10
                      }
                    }
                  }
                }
              }
            },
            "A Deep Commitment to Purple": {
              "defindex": [
                5031
              ],
              "prices": {
                "6": {
                  "Tradable": {
                    "Craftable": {
                      "0": {
                        "currency": "metal",
                        "value": 8,
                        "last_update": 1461581705,
                        "difference": -0.165
                      }
                    },
                    "Non-Craftable": {
                      "0": {
                        "currency": "metal",
                        "value": 7.66,
                        "last_update": 1461801175,
                        "difference": -0.34
                      }
                    }
                  }
                }
              }
            },
            "A Distinctive Lack of Hue": {
              "defindex": [
                5040
              ],
              "prices": {
                "6": {
                  "Tradable": {
                    "Craftable": {
                      "0": {
                        "currency": "keys",
                        "value": 1,
                        "last_update": 1455649142,
                        "difference": -1.933
                      }
                    },
                    "Non-Craftable": {
                      "0": {
                        "currency": "metal",
                        "value": 16.66,
                        "last_update": 1464371607,
                        "difference": -1.865
                      }
                    }
                  }
                }
              }
            }
          }
        }
      };
      parser = new PricesApiParser(response);
      items = parser.parseAllItems();
      return items;
    }

    function init() {
      var items, templates;
      items = getItems();
      templates = new Spreadsheet_tmpl(getSpreadsheetStyles());

      var sh = new Spreadsheet({
        templates: templates,
        items: items
      });
      document.body.appendChild(sh.getElem());

      var input = document.getElementById('in');
      document.getElementById('btnSearch').onclick = sh.filterColback(input, sh["rows"]);
    }
  </script>
  
  <script>
  </script>
</head>

<body>
<label><input id="in" type="text">Имя предмета</label>
<button id="btnSearch">Поиск</button>
</body>
</html>